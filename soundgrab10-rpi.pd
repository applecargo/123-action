#N canvas 545 22 810 659 10;
#X obj 393 566 dac~;
#X obj 393 296 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 79 588 print [to.writesf~];
#X text 736 626 .anchor.;
#X obj 430 485 bng 15 250 50 0 empty \$0-preview-stop r:0-preview-stop
17 7 0 10 -262144 -1 -1;
#X text 602 17 designed by D. Yi @ 2014 fall;
#X text 8 8 .anchor.;
#N canvas 323 22 492 702 menu.and.commands 0;
#X obj 20 646 bng 15 250 50 0 \$0-create-new empty s:0-create-new 17
7 0 10 -262144 -1 -1;
#X obj 20 568 route 0;
#X obj 126 537 bng 15 250 50 0 \$0-preview-start empty s:0-preview-start
17 7 0 10 -262144 -1 -1;
#X text 426 676 .anchor.;
#X text 5 2 .anchor.;
#X obj 63 622 bng 15 250 50 0 \$0-rec-stop empty s:0-rec-stop 17 7
0 10 -262144 -1 -1;
#X obj 38 596 bng 15 250 50 0 \$0-rec-start empty s:0-rec-start 17
7 0 10 -262144 -1 -1;
#X obj 38 540 route 1 0;
#X obj 126 486 route 1 0;
#X obj 151 563 bng 15 250 50 0 \$0-preview-stop empty s:0-preview-stop
17 7 0 10 -262144 -1 -1;
#X obj 57 486 route 1 0;
#X obj 57 514 bng 15 250 50 0 \$0-open-next empty s:0-open-next 17
7 0 10 -262144 -1 -1;
#X obj 263 34 receive toGUI;
#X obj 263 58 print;
#X msg 30 166 devices;
#X obj 20 34 loadbang;
#X obj 20 58 delay 4000;
#X msg 20 102 devicename /dev/ttyACM0;
#X text 72 121 for test @ Mac;
#X text 72 81 for real @ RPi;
#X text 276 77 emulation of mobmuplat @ RPi;
#X text 263 534 == play-start;
#X text 280 560 == play-stop;
#X text 274 593 <arduino commands> \; \; 0 : new.sound \; 1 : rec-on-hold
\; 2 : open-next \; 3 : play-on-hold;
#X obj 20 200 arduino;
#X obj 20 424 route analog digital;
#X msg 283 183 info;
#X obj 59 223 route open;
#X obj 59 246 route 1;
#X obj 283 263 print [arduino]wasn't_opend;
#X msg 30 138 devicename /dev/tty.usbserial-10GP0125;
#X obj 283 240 tgl 15 0 empty empty isopend? 17 7 0 10 -262144 -1 -1
1 1;
#X msg 86 166 close;
#N canvas 888 388 190 266 pinsetup 0;
#X msg 60 129 pinMode \$1 input;
#X obj 33 61 t b b;
#X text 69 83 input pins;
#X text 40 153 pull-ups;
#X msg 33 176 2 \, 3 \, 4 \, 5;
#X msg 60 106 2 \, 3 \, 4 \, 5;
#X text 4 3 .anchor.;
#X text 121 234 .anchor.;
#X obj 33 33 inlet;
#X obj 33 227 outlet;
#X msg 33 199 digital \$1 1;
#X connect 0 0 9 0;
#X connect 1 0 4 0;
#X connect 1 1 5 0;
#X connect 4 0 10 0;
#X connect 5 0 0 0;
#X connect 8 0 1 0;
#X connect 10 0 9 0;
#X restore 59 269 pd pinsetup;
#X obj 20 458 route 2 3 4 5;
#X obj 283 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 20 389 spigot;
#X obj 59 363 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 283 286 print [arduino]pinsetup_msg.;
#X obj 283 149 delay 2000;
#X msg 59 339 1;
#X obj 59 293 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 59 315 delay 2000;
#X connect 1 0 0 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 2 0;
#X connect 8 1 9 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 24 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 24 0;
#X connect 17 0 35 0;
#X connect 24 0 36 0;
#X connect 24 1 27 0;
#X connect 25 1 34 0;
#X connect 26 0 24 0;
#X connect 27 0 28 0;
#X connect 27 0 31 0;
#X connect 28 0 33 0;
#X connect 28 1 29 0;
#X connect 30 0 24 0;
#X connect 30 0 35 0;
#X connect 32 0 24 0;
#X connect 33 0 24 0;
#X connect 33 0 38 0;
#X connect 33 0 41 0;
#X connect 34 0 1 0;
#X connect 34 1 7 0;
#X connect 34 2 10 0;
#X connect 34 3 8 0;
#X connect 35 0 39 0;
#X connect 36 0 25 0;
#X connect 37 0 36 1;
#X connect 39 0 26 0;
#X connect 40 0 37 0;
#X connect 41 0 42 0;
#X connect 42 0 40 0;
#X restore 23 37 pd menu.and.commands;
#X obj 62 616 writesf~;
#X obj 348 389 adc~;
#X obj 102 467 bng 15 250 50 0 empty \$0-create-new r:0-create-new
17 7 0 10 -262144 -1 -1;
#X obj 393 322 metro 200;
#X obj 393 268 loadbang;
#X obj 393 406 tabwrite~ /monitoringBuf;
#X obj 462 322 table /monitoringBuf 8820;
#X obj 393 378 send toGUI;
#X msg 393 350 list /monitoringBuf refresh;
#X obj 393 136 send toGUI;
#X msg 222 599 start;
#X msg 281 599 stop;
#X obj 281 573 bng 15 250 50 0 empty \$0-rec-stop r:0-rec-stop 17 7
0 10 -262144 -1 -1;
#X obj 17 599 adc~;
#X obj 393 72 bng 15 250 50 0 empty \$0-rec-stop r:0-rec-stop 17 7
0 10 -262144 -1 -1;
#N canvas 0 22 450 278 (subpatch) 0;
#X array /previewBuf 125184 float 2;
#X coords 0 1 125184 -1 100 50 1 0 0;
#X restore 23 341 graph;
#X obj 23 300 soundfiler;
#X msg 23 272 read -resize \$1 /previewBuf;
#X msg 393 114 list /previewBuf refresh;
#X obj 393 538 tabplay~ /previewBuf;
#X msg 393 510 0;
#X obj 393 464 bng 15 250 50 0 empty \$0-preview-start r:0-preview-start
17 7 0 10 -262144 -1 -1;
#X msg 430 511 stop;
#X obj 549 583 send toGUI;
#X msg 549 555 list /preview.tgl 0;
#X obj 197 207 bng 15 250 50 0 empty \$0-rec-stop r:0-rec-stop 17 7
0 10 -262144 -1 -1;
#X obj 23 135 bng 15 250 50 0 empty \$0-open-next r:0-open-next 17
7 0 10 -262144 -1 -1;
#X obj 23 87 loadbang;
#N canvas 272 22 236 485 filepick 0;
#X floatatom 33 140 5 0 0 0 - - -;
#X obj 84 254 / 10;
#X floatatom 84 298 5 0 0 0 - - -;
#X floatatom 129 276 5 0 0 0 - - -;
#X obj 129 254 % 10;
#X obj 84 276 int;
#X floatatom 33 235 5 0 0 0 - - -;
#X floatatom 84 213 5 0 0 0 - - -;
#X obj 33 213 int;
#X obj 33 191 / 100;
#X obj 84 191 % 100;
#X obj 33 317 pack f f f;
#X obj 84 232 t a a;
#X obj 33 169 t a a;
#X msg 33 339 symbol \$1\$2\$3;
#X obj 33 361 makefilename rec_%s.wav;
#X obj 33 445 outlet;
#X obj 33 417 list trim;
#X obj 33 389 list prepend symbol;
#X text 2 4 .anchor.;
#X obj 33 64 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 66 84 + 1;
#X obj 33 84 f 0;
#X obj 33 112 % 10;
#X obj 33 36 inlet;
#X obj 168 154 outlet;
#X text 164 453 .anchor.;
#X text 72 36 get.next;
#X obj 37 37;
#X obj 37 37;
#X connect 0 0 13 0;
#X connect 0 0 25 0;
#X connect 1 0 5 0;
#X connect 2 0 11 1;
#X connect 3 0 11 2;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 11 0;
#X connect 7 0 12 0;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X connect 10 0 7 0;
#X connect 11 0 14 0;
#X connect 12 0 1 0;
#X connect 12 1 4 0;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 20 0 22 0;
#X connect 21 0 22 1;
#X connect 22 0 21 0;
#X connect 22 0 23 0;
#X connect 23 0 0 0;
#X connect 24 0 20 0;
#X restore 23 161 pd filepick;
#X obj 393 206 send toGUI;
#X msg 393 178 list /file.num \$1;
#X msg 62 561 open \$1;
#X msg 62 533 symbol rec_009.wav;
#X obj 222 516 t b b;
#X msg 23 244 symbol rec_009.wav;
#X msg 42 217 set symbol \$1;
#X msg 62 505 set symbol \$1;
#X obj 23 189 t b a a;
#X msg 591 434 \; pd dsp 1;
#X text 589 471 needed only for testing;
#X obj 165 59 bng 15 250 50 0 \$0-create-new empty s:0-create-new 17
7 0 10 -262144 -1 -1;
#X obj 165 115 bng 15 250 50 0 \$0-preview-start empty s:0-preview-start
17 7 0 10 -262144 -1 -1;
#X obj 165 97 bng 15 250 50 0 \$0-rec-stop empty s:0-rec-stop 17 7
0 10 -262144 -1 -1;
#X obj 165 78 bng 15 250 50 0 \$0-rec-start empty s:0-rec-start 17
7 0 10 -262144 -1 -1;
#X obj 165 133 bng 15 250 50 0 \$0-preview-stop empty s:0-preview-stop
17 7 0 10 -262144 -1 -1;
#X obj 165 151 bng 15 250 50 0 \$0-open-next empty s:0-open-next 17
7 0 10 -262144 -1 -1;
#X text 163 36 command list;
#X obj 197 227 del 100;
#X obj 393 92 del 200;
#X obj 393 52 bng 15 250 50 0 empty \$0-open-next r:0-open-next 17
7 0 10 -262144 -1 -1;
#X floatatom 142 317 10 0 0 2 samplesize - -;
#N canvas 493 22 511 525 fileinfo_toGUI 0;
#X obj 77 17 /;
#X floatatom 77 39 5 0 0 0 - - -;
#X obj 38 -48 route 0;
#X text 8 -122 .anchor.;
#X text 443 370 .anchor.;
#X obj 38 -92 inlet;
#X obj 77 90 / 60;
#X obj 163 90 % 60;
#X floatatom 77 134 5 0 0 0 min - -;
#X floatatom 163 134 5 0 0 1 sec - -;
#X obj 163 175 / 10;
#X floatatom 163 219 5 0 0 0 - - -;
#X floatatom 206 219 5 0 0 0 - - -;
#X obj 206 175 % 10;
#X obj 163 197 int;
#X obj 163 153 t a a;
#X obj 77 112 int;
#X obj 77 175 / 10;
#X floatatom 77 219 5 0 0 0 - - -;
#X floatatom 120 219 5 0 0 0 - - -;
#X obj 120 175 % 10;
#X obj 77 197 int;
#X obj 77 153 t a a;
#X obj 38 350 send toGUI;
#X obj 38 -70 t a a;
#X msg 391 284 symbol OCCUPIED;
#X msg 352 306 symbol EMPTY;
#X obj 352 -53 route 0;
#X obj 104 -5 samplerate~;
#X obj 77 -27 t a b;
#X floatatom 104 17 5 0 0 0 - - -;
#X floatatom 249 219 5 0 0 0 - - -;
#X obj 249 90 * 10;
#X obj 249 115 % 10;
#X obj 292 115 % 10;
#X obj 292 90 * 100;
#X obj 77 254 pack f f f f f f;
#X msg 77 276 symbol \$1\$2:\$3\$4.\$5\$6;
#X obj 77 58 t a a a a;
#X floatatom 292 219 5 0 0 0 - - -;
#X msg 38 306 symbol 00:00.00;
#X obj 352 350 send toGUI;
#X msg 352 328 list /slot.info \$1;
#X msg 38 328 list /file.info duration \$1;
#X connect 0 0 1 0;
#X connect 1 0 38 0;
#X connect 2 0 40 0;
#X connect 2 1 29 0;
#X connect 5 0 24 0;
#X connect 6 0 16 0;
#X connect 7 0 9 0;
#X connect 8 0 22 0;
#X connect 9 0 15 0;
#X connect 10 0 14 0;
#X connect 11 0 36 2;
#X connect 12 0 36 3;
#X connect 13 0 12 0;
#X connect 14 0 11 0;
#X connect 15 0 10 0;
#X connect 15 1 13 0;
#X connect 16 0 8 0;
#X connect 17 0 21 0;
#X connect 18 0 36 0;
#X connect 19 0 36 1;
#X connect 20 0 19 0;
#X connect 21 0 18 0;
#X connect 22 0 17 0;
#X connect 22 1 20 0;
#X connect 24 0 2 0;
#X connect 24 1 27 0;
#X connect 25 0 42 0;
#X connect 26 0 42 0;
#X connect 27 0 26 0;
#X connect 27 1 25 0;
#X connect 28 0 0 1;
#X connect 28 0 30 0;
#X connect 29 0 0 0;
#X connect 29 1 28 0;
#X connect 31 0 36 4;
#X connect 32 0 33 0;
#X connect 33 0 31 0;
#X connect 34 0 39 0;
#X connect 35 0 34 0;
#X connect 36 0 37 0;
#X connect 37 0 43 0;
#X connect 38 0 6 0;
#X connect 38 1 7 0;
#X connect 38 2 32 0;
#X connect 38 3 35 0;
#X connect 39 0 36 5;
#X connect 40 0 43 0;
#X connect 42 0 41 0;
#X connect 43 0 23 0;
#X restore 142 417 pd fileinfo_toGUI;
#X obj 153 339 route 0;
#X msg 153 365 \; /previewBuf resize 1 \; /previewBuf 0 0;
#X obj 222 472 v is.overwriting;
#X obj 604 166 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 604 208 v is.overwriting;
#X floatatom 604 230 5 0 0 0 - - -;
#X obj 604 186 metro 100;
#X obj 604 116 v is.overwriting;
#X obj 604 72 loadbang;
#X msg 604 94 0;
#X msg 677 94 1;
#X obj 604 52 bng 15 250 50 0 empty \$0-open-next r:0-open-next 17
7 0 10 -262144 -1 -1;
#X obj 677 72 bng 15 250 50 0 empty \$0-create-new r:0-create-new 17
7 0 10 -262144 -1 -1;
#X obj 222 452 bng 15 250 50 0 empty \$0-rec-start r:0-rec-start 17
7 0 10 -262144 -1 -1;
#X obj 222 494 sel 1;
#X connect 1 0 11 0;
#X connect 4 0 30 0;
#X connect 9 0 13 0;
#X connect 10 0 40 0;
#X connect 11 0 13 0;
#X connect 11 0 16 0;
#X connect 16 0 15 0;
#X connect 18 0 8 0;
#X connect 19 0 8 0;
#X connect 20 0 19 0;
#X connect 21 0 8 0;
#X connect 22 0 56 0;
#X connect 24 0 58 0;
#X connect 25 0 24 0;
#X connect 26 0 17 0;
#X connect 27 0 0 0;
#X connect 27 0 0 1;
#X connect 27 1 32 0;
#X connect 28 0 27 0;
#X connect 29 0 28 0;
#X connect 30 0 27 0;
#X connect 32 0 31 0;
#X connect 33 0 55 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 36 0 45 0;
#X connect 36 1 38 0;
#X connect 38 0 37 0;
#X connect 39 0 2 0;
#X connect 39 0 8 0;
#X connect 40 0 39 0;
#X connect 41 0 18 0;
#X connect 41 1 40 0;
#X connect 42 0 25 0;
#X connect 43 0 42 0;
#X connect 44 0 40 0;
#X connect 45 0 42 0;
#X connect 45 1 43 0;
#X connect 45 2 44 0;
#X connect 55 0 42 0;
#X connect 56 0 26 0;
#X connect 57 0 56 0;
#X connect 58 0 59 0;
#X connect 58 0 60 0;
#X connect 60 0 61 0;
#X connect 62 0 74 0;
#X connect 63 0 66 0;
#X connect 64 0 65 0;
#X connect 66 0 64 0;
#X connect 68 0 69 0;
#X connect 69 0 67 0;
#X connect 70 0 67 0;
#X connect 71 0 69 0;
#X connect 72 0 70 0;
#X connect 73 0 62 0;
#X connect 74 0 41 0;
